import{_ as e}from"./BGjgMdPk.js";import{E as a}from"./DnlF_OhZ.js";import{u as t,a as l,E as r,c as i}from"./xpCMimhT.js";import{_ as d}from"./CajHSSrn.js";import{a as s,b as o}from"./QgfGNtND.js";import{b as m,bZ as u,a1 as n}from"#entry";import"./DojV3-Gu.js";import{l as p,b as c,r as b,a6 as f,V as _,u as h,X as g,I as y,A as V,ao as x,H as j}from"./qvIHbRqB.js";const q=p({__name:"ApplyForm",emits:["update"],setup(p,{expose:q,emit:w}){const{t:v}=m(),L=c(),F=b({typeList:{create:v("account_create"),destroy:v("account_destroy")}}),z=c(),U=b({data:{id:0,p_id:0,title:"",title_en:"",href:"",icon:"",sort:0,status:1,imgList:[]}}),k=b({title:[{required:!0,whitespace:!0,message:v("required"),trigger:"blur"}],title_en:[{required:!0,whitespace:!0,message:v("required"),trigger:"blur"}],href:[{required:!0,whitespace:!0,message:v("required"),trigger:"blur"}],img:[{required:!0,whitespace:!0,message:v("required"),trigger:"blur"}]}),[A]=t(async()=>{if(await i(z.value))return Number(U.data.p_id),U.data.title?.trim(),U.data.title_en?.trim(),U.data.href?.trim(),Number(U.data.sort),U.data.status,U.data.icon?.trim(),await n(3e3),!0});return q({setFormData:(e,a)=>{L.value=e,"edit"===e&&a?(U.data.id=a.id,U.data.title=a.title||"",U.data.title_en=a.title_en||"",U.data.href=a.href||"",U.data.sort=a.sort||0,U.data.p_id=a.parent_id||"",U.data.status=a.status?1:0,U.data.imgList=a.icon?[a.icon]:[]):(U.data.id=0,U.data.title="",U.data.title_en="",U.data.href="",U.data.sort=0,U.data.status=1,U.data.icon="",U.data.imgList=[],a&&(U.data.p_id="number"==typeof a.id?a.id:""))},onConfirm:A,onReset:()=>{z.value?.resetFields()},formRef:z}),(t,i)=>{const m=e,n=a,p=r,c=d,b=o,q=s,w=l;return _(),f(w,{ref_key:"formRef",ref:z,"label-position":"top",model:h(U).data,rules:h(k),"label-width":"120px"},{default:g(()=>[y(p,{label:h(v)("email"),prop:"title"},{default:g(()=>[y(n,{modelValue:h(U).data.title,"onUpdate:modelValue":i[0]||(i[0]=e=>h(U).data.title=e),maxlength:"20",placeholder:h(v)("email_placeholder"),clearable:""},{prefix:g(()=>[y(m,{name:"icon-email",class:"text-15px"})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),y(p,{label:h(v)("count"),prop:"sort"},{default:g(()=>[y(c,{modelValue:h(U).data.sort,"onUpdate:modelValue":i[1]||(i[1]=e=>h(U).data.sort=e),min:0,max:1e4,placeholder:"",class:"w-[calc(100%-50px)]!"},null,8,["modelValue"])]),_:1},8,["label"]),y(p,{label:h(v)("timezone"),prop:"href"},{default:g(()=>[y(q,{modelValue:h(U).data.href,"onUpdate:modelValue":i[2]||(i[2]=e=>h(U).data.href=e),clearable:"",filterable:"",disabled:"edit"===h(L)},{default:g(()=>[(_(!0),V(j,null,x("timezoneList"in t?t.timezoneList:h(u),e=>(_(),f(b,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),y(p,{label:h(v)("type"),prop:"icon"},{default:g(()=>[y(q,{modelValue:h(U).data.icon,"onUpdate:modelValue":i[3]||(i[3]=e=>h(U).data.icon=e),clearable:"",filterable:"",disabled:"edit"===h(L)},{default:g(()=>[(_(!0),V(j,null,x(h(F).typeList,(e,a)=>(_(),f(b,{key:a,label:e,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1},8,["model","rules"])}}}),w=Object.assign(q,{__name:"ApplyForm"});export{w as _};
