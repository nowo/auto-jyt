import{am as e,b0 as t,b1 as a,b2 as r,b3 as n,b4 as l,a_ as u,b5 as i,aT as o,n as s,b6 as v,b7 as c,b8 as f,b9 as p,ba as d,bb as h}from"#entry";import{l as g,k as b,b as y,y as m,o as q,v as x,az as S,n as C}from"./qvIHbRqB.js";function A(c){const f=c.componentName||"NuxtLink";function h(e){return!v&&"string"==typeof e&&e.startsWith("#")}function A(t){const a=e(),r=o(),l=C(()=>!!t.target&&"_self"!==t.target),v=C(()=>{const e=t.to||t.href||"";return"string"==typeof e&&u(e,{acceptRelative:!0})}),f=S("RouterLink"),p=f&&"string"!=typeof f?f.useLink:void 0,d=C(()=>{if(t.external)return!0;const e=t.to||t.href||"";return"object"!=typeof e&&(""===e||v.value)}),g=C(()=>{const e=t.to||t.href||"";return d.value?e:function(e,t,a){const r=a??c.trailingSlash;if(!e||"append"!==r&&"remove"!==r)return e;if("string"==typeof e)return k(e,r);const n="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:k(n,r)}}(e,a.resolve,t.trailingSlash)}),b=d.value?void 0:p?.({...t,to:g}),y=C(()=>{const e=t.trailingSlash??c.trailingSlash;if(!g.value||v.value||h(g.value))return g.value;if(d.value){const t="object"==typeof g.value&&"path"in g.value?n(g.value):g.value;return k("object"==typeof t?a.resolve(t).href:t,e)}return"object"==typeof g.value?a.resolve(g.value)?.href??null:k(i(r.app.baseURL,g.value),e)});return{to:g,hasTarget:l,isAbsoluteUrl:v,isExternal:d,href:y,isActive:b?.isActive??C(()=>g.value===a.currentRoute.value.path),isExactActive:b?.isExactActive??C(()=>g.value===a.currentRoute.value.path),route:b?.route??C(()=>a.resolve(g.value)),async navigate(e){await s(y.value,{replace:t.replace,external:d.value||l.value})}}}return g({name:f,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:A,setup(u,{slots:i}){const o=e(),{to:s,href:v,navigate:f,isExternal:g,hasTarget:C,isAbsoluteUrl:R}=A(u),k=b(!1),O=y(null),j=e=>{O.value=u.custom?e?.$el?.nextElementSibling:e?.$el};function L(e){return!k.value&&("string"==typeof u.prefetchOn?u.prefetchOn===e:u.prefetchOn?.[e]??c.prefetchOn?.[e])&&!1!==(u.prefetch??c.prefetch)&&!0!==u.noPrefetch&&"_blank"!==u.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||w.test(e.effectiveType)))return!0;return!1}()}async function E(e=t()){if(k.value)return;k.value=!0;const a="string"==typeof s.value?s.value:g.value?n(s.value):o.resolve(s.value).fullPath,r=g.value?new URL(a,window.location.href).href:a;await Promise.all([e.hooks.callHook("link:prefetch",r).catch(()=>{}),!g.value&&!C.value&&l(s.value,o).catch(()=>{})])}if(L("visibility")){const e=t();let r,n=null;m(()=>{const l=function(){const e=t();if(e._observer)return e._observer;let a=null;const r=new Map,n=(e,t)=>(a||=new IntersectionObserver(e=>{for(const t of e){const e=r.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}),r.set(e,t),a.observe(e),()=>{r.delete(e),a?.unobserve(e),0===r.size&&(a?.disconnect(),a=null)}),l=e._observer={observe:n};return l}();a(()=>{r=p(()=>{O?.value?.tagName&&(n=l.observe(O.value,async()=>{n?.(),n=null,await E(e)}))})})}),q(()=>{r&&d(r),n?.(),n=null})}return()=>{if(!g.value&&!C.value&&!h(s.value)){const e={ref:j,to:s.value,activeClass:u.activeClass||c.activeClass,exactActiveClass:u.exactActiveClass||c.exactActiveClass,replace:u.replace,ariaCurrentValue:u.ariaCurrentValue,custom:u.custom};return u.custom||(L("interaction")&&(e.onPointerenter=E.bind(null,void 0),e.onFocus=E.bind(null,void 0)),k.value&&(e.class=u.prefetchedClass||c.prefetchedClass),e.rel=u.rel||void 0),x(S("RouterLink"),e,i.default)}const e=u.target||null,t=((...e)=>e.find(e=>void 0!==e))(u.noRel?"":u.rel,c.externalRelAttribute,R.value||C.value?"noopener noreferrer":"")||null;return u.custom?i.default?i.default({href:v.value,navigate:f,prefetch:E,get route(){if(!v.value)return;const e=new URL(v.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return r(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:v.value}},rel:t,target:e,isExternal:g.value||C.value,isActive:!1,isExactActive:!1}):null:x("a",{ref:O,href:v.value||null,rel:t,target:e,onClick:e=>{if(!g.value&&!C.value)return e.preventDefault(),u.replace?o.replace(v.value):o.push(v.value)}},i.default?.())}}})}const R=A(h);function k(e,t){const a="append"===t?c:f;return u(e)&&!e.startsWith("http")?e:a(e,!0)}const w=/2g/;export{R as _};
