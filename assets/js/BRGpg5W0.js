import{_ as e}from"./BhNkJ2ei.js";import{E as a}from"./Br2YYjqU.js";import{_ as l}from"./Bt4GWYqb.js";import{u as s,a as t,E as r,c as o}from"./B2NKXgsO.js";import{E as i}from"./CdvHYUIO.js";import{a as d,b as m}from"./DeCiPARL.js";import{b as u,h as n,E as p}from"#entry";import"./D3PoWbaM.js";import{l as c,b as f,r as b,a6 as _,V as x,u as h,X as v,A as y,Z as V,ao as g,H as j,I as k,a0 as U,a1 as w}from"./qvIHbRqB.js";import{_ as F}from"./BCo6x5W8.js";const q={class:"mb15px flex items-center justify-between"},A={class:"text-18px font-bold"},C={class:"py20px"},E=c({__name:"AuthForm",emits:["update"],setup(c,{expose:F,emit:E}){const{t:R}=u();n();const L=f(),$=b({statusList:["bind","unbind"],idList:[1,2,3,4,5,6,7,8,9,10]}),z=f(),D=b({data:{list:[{id:1,name:[],email:"",status:"unbind"}]}}),I=b({name:[{required:!0,type:"array",message:R("required"),trigger:"blur"}],email:[{required:!0,whitespace:!0,message:R("required"),trigger:"blur"}]}),H=()=>{const e={id:Date.now(),name:[],status:"unbind",email:""};D.data.list.push(e)},[O]=s(async()=>{console.log("formRef.value :>> ",z.value);if(await o(z.value))return p.success("return")});return F({setFormData:(e,a)=>{L.value=e,"edit"===e&&a||(D.data.list.length=0,H())},onConfirm:O,onReset:()=>{z.value?.resetFields()},formRef:z}),(s,o)=>{const u=e,n=a,p=l,c=r,f=i,b=m,F=d,E=t;return x(),_(E,{ref_key:"formRef",ref:z,"label-position":"top",model:h(D).data,rules:h(I),class:"form-auth"},{default:v(()=>[(x(!0),y(j,null,g(h(D).data.list,(e,a)=>(x(),y("div",{key:e.id,class:"card-item relative"},[V("div",q,[V("div",A,w(h(R)("filter")),1),k(n,{type:"danger",link:"",disabled:h(D).data.list.length<=1,onClick:e=>(e=>{1!==D.data.list.length&&D.data.list.splice(e,1)})(a)},{default:v(()=>[k(u,{name:"delete",class:"text-16px mr5px"}),V("p",null,w(h(R)("remove")),1)]),_:1},8,["disabled","onClick"])]),k(c,{label:h(R)("name"),prop:`list.${a}.name`,rules:h(I).name},{default:v(()=>[k(p,{modelValue:e.name,"onUpdate:modelValue":a=>e.name=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","prop","rules"]),k(c,{label:h(R)("account_email"),prop:`list.${a}.email`,rules:h(I).email},{default:v(()=>[k(f,{modelValue:e.email,"onUpdate:modelValue":a=>e.email=a,placeholder:h(R)("account_email_placeholder")},{prefix:v(()=>[k(u,{name:"icon-email",class:"text-18px",filled:""})]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop","rules"]),k(c,{label:h(R)("status"),prop:`list.${a}.status`},{default:v(()=>[k(F,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,placeholder:h(R)("status"),clearable:"",filterable:""},{default:v(()=>[(x(!0),y(j,null,g(h($).statusList,e=>(x(),_(b,{key:e,label:h(R)(e),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]))),128)),V("div",C,[k(n,{type:"primary",plain:"",size:"large",class:"btn-add w100% b-dashed!",onClick:H},{default:v(()=>[o[0]||(o[0]=V("i",{class:"i-material-symbols:add-2-rounded text-16px mr5px"},null,-1)),U(" "+w(h(R)("add")),1)]),_:1})])]),_:1},8,["model","rules"])}}}),R=Object.assign(F(E,[["__scopeId","data-v-1ba80b94"]]),{__name:"AuthForm"});export{R as _};
