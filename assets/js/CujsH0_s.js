import{b as e}from"./DojV3-Gu.js";import{e as l,d as a,E as o}from"./DePlfNGU.js";import{q as s,ak as t,v as n,y as r,bg as i,D as d,aD as u,r as c,A as f,bh as v,bi as p,bd as y,aU as b,aC as g,z as m,P as h,bj as C,B as w,C as k,F as _,h as x,bk as A}from"#entry";import{l as $,i as F,n as B,A as R,V as z,Z as I,a7 as S,W as E,$ as D,u as L,a1 as P,I as T,X as j,a6 as O,a8 as M,_ as q,a as H,b as N,O as U,S as V,a5 as X,q as Y,x as W,y as Z,aw as K,T as G,a4 as J,Y as Q,aq as ee,a2 as le,p as ae,o as oe,a9 as se,an as te,r as ne,a0 as re}from"./qvIHbRqB.js";import{u as ie,a as de,E as ue,b as ce}from"./eFjWS5rx.js";import{F as fe,U as ve,g as pe,E as ye,a as be}from"./BGjgMdPk.js";import{b as ge}from"./D3q53r2M.js";import{_ as me}from"./BCo6x5W8.js";const he=Symbol("dialogInjectionKey"),Ce="dialog-fade",we=s({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:t},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ke=$({name:"ElDialogContent"});var _e=n($({...ke,props:we,emits:{close:()=>!0},setup(e,{expose:l}){const a=e,{t:o}=r(),{Close:s}=i,{dialogRef:t,headerRef:n,bodyId:u,ns:c,style:f}=F(he),{focusTrapRef:v}=F(fe),p=ge(v,t),y=B(()=>!!a.draggable),b=B(()=>!!a.overflow),{resetPosition:g,updatePosition:m,isDragging:h}=ie(t,n,y,b),C=B(()=>[c.b(),c.is("fullscreen",a.fullscreen),c.is("draggable",y.value),c.is("dragging",h.value),c.is("align-center",!!a.alignCenter),{[c.m("center")]:a.center}]);return l({resetPosition:g,updatePosition:m}),(e,l)=>(z(),R("div",{ref:L(p),class:D(L(C)),style:q(L(f)),tabindex:"-1"},[I("header",{ref_key:"headerRef",ref:n,class:D([L(c).e("header"),e.headerClass,{"show-close":e.showClose}])},[E(e.$slots,"header",{},()=>[I("span",{role:"heading","aria-level":e.ariaLevel,class:D(L(c).e("title"))},P(e.title),11,["aria-level"])]),e.showClose?(z(),R("button",{key:0,"aria-label":L(o)("el.dialog.close"),class:D(L(c).e("headerbtn")),type:"button",onClick:l=>e.$emit("close")},[T(L(d),{class:D(L(c).e("close"))},{default:j(()=>[(z(),O(M(e.closeIcon||L(s))))]),_:1},8,["class"])],10,["aria-label","onClick"])):S("v-if",!0)],2),I("div",{id:L(u),class:D([L(c).e("body"),e.bodyClass])},[E(e.$slots,"default")],10,["id"]),e.$slots.footer?(z(),R("footer",{key:0,class:D([L(c).e("footer"),e.footerClass])},[E(e.$slots,"footer")],2)):S("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const xe=s({...we,appendToBody:Boolean,appendTo:{type:pe.to.type,default:"body"},beforeClose:{type:c(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:c([String,Object]),default:void 0}}),Ae={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ve]:e=>u(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},$e=(e,a)=>{var o;const s=H().emit,{nextZIndex:t}=f();let n="";const r=l(),i=l(),d=N(!1),u=N(!1),c=N(!1),m=N(null!=(o=e.zIndex)?o:t());let h,C;const w=v(),k=B(()=>{var e,l;return null!=(l=null==(e=w.value)?void 0:e.namespace)?l:p}),_=B(()=>{var e;return null==(e=w.value)?void 0:e.dialog}),x=B(()=>{const l={},a=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(l[`${a}-margin-top`]=e.top),e.width&&(l[`${a}-width`]=y(e.width))),l}),A=B(()=>{var l,a,o;return null!=(o=null!=(a=e.draggable)?a:null==(l=_.value)?void 0:l.draggable)&&o&&!e.fullscreen}),$=B(()=>{var l,a,o;return null!=(o=null!=(a=e.alignCenter)?a:null==(l=_.value)?void 0:l.alignCenter)&&o}),F=B(()=>{var l,a,o;return null!=(o=null!=(a=e.overflow)?a:null==(l=_.value)?void 0:l.overflow)&&o}),R=B(()=>$.value?{display:"flex"}:{}),z=B(()=>{var l,a,o;const s=null!=(o=null!=(a=e.transition)?a:null==(l=_.value)?void 0:l.transition)?o:Ce,t={name:s,onAfterEnter:I,onBeforeLeave:E,onAfterLeave:S};if(U(s)){const e={...s},l=(e,l)=>a=>{V(e)?e.forEach(e=>{X(e)&&e(a)}):X(e)&&e(a),l()};return e.onAfterEnter=l(e.onAfterEnter,I),e.onBeforeLeave=l(e.onBeforeLeave,E),e.onAfterLeave=l(e.onAfterLeave,S),e.name||(e.name=Ce),e}return t});function I(){s("opened")}function S(){s("closed"),s(ve,!1),e.destroyOnClose&&(c.value=!1)}function E(){s("close")}function D(){null==C||C(),null==h||h(),e.openDelay&&e.openDelay>0?({stop:h}=b(()=>T(),e.openDelay)):T()}function L(){null==h||h(),null==C||C(),e.closeDelay&&e.closeDelay>0?({stop:C}=b(()=>j(),e.closeDelay)):j()}function P(){e.beforeClose?e.beforeClose(function(e){e||(u.value=!0,d.value=!1)}):L()}function T(){g&&(d.value=!0)}function j(){d.value=!1}return e.lockScroll&&de(d),Y(()=>e.zIndex,()=>{var l;m.value=null!=(l=e.zIndex)?l:t()}),Y(()=>e.modelValue,l=>{var o;l?(u.value=!1,D(),c.value=!0,m.value=null!=(o=e.zIndex)?o:t(),W(()=>{s("open"),a.value&&(a.value.parentElement.scrollTop=0,a.value.parentElement.scrollLeft=0,a.value.scrollTop=0)})):d.value&&L()}),Y(()=>e.fullscreen,e=>{a.value&&(e?(n=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=n)}),Z(()=>{e.modelValue&&(d.value=!0,c.value=!0,D())}),{afterEnter:I,afterLeave:S,beforeLeave:E,handleClose:P,onModalClick:function(){e.closeOnClickModal&&P()},close:L,doClose:j,onOpenAutoFocus:function(){s("openAutoFocus")},onCloseAutoFocus:function(){s("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&P()},onFocusoutPrevented:function(e){var l;"pointer"===(null==(l=e.detail)?void 0:l.focusReason)&&e.preventDefault()},titleId:r,bodyId:i,closed:u,style:x,overlayDialogStyle:R,rendered:c,visible:d,zIndex:m,transitionConfig:z,_draggable:A,_alignCenter:$,_overflow:F}},Fe=$({name:"ElDialog",inheritAttrs:!1});const Be=h(n($({...Fe,props:xe,emits:Ae,setup(e,{expose:l}){const o=e,s=K();a({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},B(()=>!!s.title));const t=m("dialog"),n=N(),r=N(),i=N(),{visible:d,titleId:u,bodyId:c,style:f,overlayDialogStyle:v,rendered:p,transitionConfig:y,zIndex:b,_draggable:g,_alignCenter:h,_overflow:C,handleClose:w,onModalClick:k,onOpenAutoFocus:_,onCloseAutoFocus:x,onCloseRequested:A,onFocusoutPrevented:$}=$e(o,n);ae(he,{dialogRef:n,headerRef:r,bodyId:c,ns:t,rendered:p,style:f});const F=ce(k),R=B(()=>o.modalPenetrable&&!o.modal&&!o.fullscreen);return l({visible:d,dialogContentRef:i,resetPosition:()=>{var e;null==(e=i.value)||e.resetPosition()},handleClose:w}),(e,l)=>(z(),O(L(be),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:j(()=>[T(G,J(L(y),{persisted:""}),{default:j(()=>{var l;return[Q(T(L(ue),{"custom-mask-event":"",mask:e.modal,"overlay-class":[null!=(l=e.modalClass)?l:"",`${L(t).namespace.value}-modal-dialog`,L(t).is("penetrable",L(R))],"z-index":L(b)},{default:j(()=>[I("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:L(u),"aria-describedby":L(c),class:D(`${L(t).namespace.value}-overlay-dialog`),style:q(L(v)),onClick:L(F).onClick,onMousedown:L(F).onMousedown,onMouseup:L(F).onMouseup},[T(L(ye),{loop:"",trapped:L(d),"focus-start-el":"container",onFocusAfterTrapped:L(_),onFocusAfterReleased:L(x),onFocusoutPrevented:L($),onReleaseRequested:L(A)},{default:j(()=>[L(p)?(z(),O(_e,J({key:0,ref_key:"dialogContentRef",ref:i},e.$attrs,{center:e.center,"align-center":L(h),"close-icon":e.closeIcon,draggable:L(g),overflow:L(C),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:L(w)}),ee({header:j(()=>[e.$slots.title?E(e.$slots,"title",{key:1}):E(e.$slots,"header",{key:0,close:L(w),titleId:L(u),titleClass:L(t).e("title")})]),default:j(()=>[E(e.$slots,"default")]),_:2},[e.$slots.footer?{name:"footer",fn:j(()=>[E(e.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):S("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[le,L(d)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]])),Re=s({...xe,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),ze=Ae;function Ie(e,l){const{width:a,height:o}=C(),s=B(()=>["ltr","rtl"].includes(e.direction)),t=B(()=>["ltr","ttb"].includes(e.direction)?1:-1),n=B(()=>s.value?a.value:o.value),r=B(()=>w(i.value+t.value*d.value,4,n.value)),i=N(0),d=N(0),u=N(!1),c=N(!1);let f=[],v=[];Y(()=>[e.size,e.resizable],()=>{c.value=!1,i.value=0,d.value=0,b()});const p=e=>{const{pageX:l,pageY:a}=e,o=l-f[0],t=a-f[1];d.value=s.value?o:t},b=()=>{f=[],i.value=r.value,d.value=0,u.value=!1,v.forEach(e=>null==e?void 0:e()),v=[]},g=k(l,"mousedown",a=>{e.resizable&&(c.value||(i.value=(()=>{var e;const a=null==(e=l.value)?void 0:e.closest('[aria-modal="true"]');return a?s.value?a.offsetWidth:a.offsetHeight:100})(),c.value=!0),f=[a.pageX,a.pageY],u.value=!0,v.push(k(window,"mouseup",b),k(window,"mousemove",p)))});return oe(()=>{g(),b()}),{size:B(()=>c.value?`${r.value}px`:y(e.size)),isResizing:u,isHorizontal:s}}const Se=$({name:"ElDrawer",inheritAttrs:!1});const Ee=h(n($({...Se,props:Re,emits:ze,setup(e,{expose:l}){const o=e,s=K();a({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},B(()=>!!s.title));const t=N(),n=N(),i=N(),u=m("drawer"),{t:c}=r(),{afterEnter:f,afterLeave:v,beforeLeave:p,visible:y,rendered:b,titleId:g,bodyId:h,zIndex:C,onModalClick:w,onOpenAutoFocus:k,onCloseAutoFocus:x,onFocusoutPrevented:A,onCloseRequested:$,handleClose:F}=$e(o,t),{isHorizontal:M,size:H,isResizing:U}=Ie(o,i);return l({handleClose:F,afterEnter:f,afterLeave:v}),(e,l)=>(z(),O(L(be),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:j(()=>[T(G,{name:L(u).b("fade"),onAfterEnter:L(f),onAfterLeave:L(v),onBeforeLeave:L(p),persisted:""},{default:j(()=>{var l;return[Q(T(L(ue),{mask:e.modal,"overlay-class":[L(u).is("drawer"),null!=(l=e.modalClass)?l:""],"z-index":L(C),onClick:L(w)},{default:j(()=>[T(L(ye),{loop:"",trapped:L(y),"focus-trap-el":t.value,"focus-start-el":n.value,onFocusAfterTrapped:L(k),onFocusAfterReleased:L(x),onFocusoutPrevented:L(A),onReleaseRequested:L($)},{default:j(()=>[I("div",J({ref_key:"drawerRef",ref:t,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:L(g),"aria-describedby":L(h)},e.$attrs,{class:[L(u).b(),e.direction,L(y)&&"open",L(u).is("dragging",L(U))],style:{[L(M)?"width":"height"]:L(H)},role:"dialog",onClick:se(()=>{},["stop"])}),[I("span",{ref_key:"focusStartRef",ref:n,class:D(L(u).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(z(),R("header",{key:0,class:D([L(u).e("header"),e.headerClass])},[e.$slots.title?E(e.$slots,"title",{key:1},()=>[S(" DEPRECATED SLOT ")]):E(e.$slots,"header",{key:0,close:L(F),titleId:L(g),titleClass:L(u).e("title")},()=>[I("span",{id:L(g),role:"heading","aria-level":e.headerAriaLevel,class:D(L(u).e("title"))},P(e.title),11,["id","aria-level"])]),e.showClose?(z(),R("button",{key:2,"aria-label":L(c)("el.drawer.close"),class:D(L(u).e("close-btn")),type:"button",onClick:L(F)},[T(L(d),{class:D(L(u).e("close"))},{default:j(()=>[T(L(_))]),_:1},8,["class"])],10,["aria-label","onClick"])):S("v-if",!0)],2)):S("v-if",!0),L(b)?(z(),R("div",{key:1,id:L(h),class:D([L(u).e("body"),e.bodyClass])},[E(e.$slots,"default")],10,["id"])):S("v-if",!0),e.$slots.footer?(z(),R("div",{key:2,class:D([L(u).e("footer"),e.footerClass])},[E(e.$slots,"footer")],2)):S("v-if",!0),e.resizable?(z(),R("div",{key:3,ref_key:"draggerRef",ref:i,style:q({zIndex:L(C)}),class:D(L(u).e("dragger"))},null,6)):S("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[le,L(y)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}}),[["__file","drawer.vue"]])),De={key:1,class:"text-24px font-bold"},Le={key:0,class:"el-dialog__close active i-ep-copy-document text-22px block"},Pe={key:1,class:"el-dialog__close i-ep-full-screen text-22px block"},Te={key:1,class:"flex w100% justify-end <sm:justify-between"},je=$({__name:"LaDialogDrawer",props:{name:{},visible:{type:Boolean},autoHeight:{type:Boolean},hideFull:{type:Boolean},loading:{type:Boolean},noFooter:{type:Boolean},width:{}},emits:["cancel","close","confirm"],setup(l,{expose:a,emit:s}){const t=l,n=s,{isMobile:r}=x(),i=B(()=>t.name?"dialog"===t.name?Be:Ee:r.value?Ee:Be),d=te("componentRef"),{width:u}=A(),c=B(()=>{let e=30;if("number"==typeof t.width)e=t.width;else{if("string"==typeof t.width)return t.width;if("object"==typeof t.width){const l=u.value,{xs:a,sm:o,md:s,lg:n,xl:r}=t.width;e=r&&l>1200?r:n&&l>992?n:s&&l>768?s:o&&l>576?o:a&&l>380?a:a||o||s||n||r||e}}return r.value?Number(e):`${e}%`}),f=ne({visible:t.visible,fullscreen:!1}),v=()=>{n("cancel")},p=()=>{n("confirm")},y=()=>{f.fullscreen=!f.fullscreen},b=()=>{"ElDrawer"===i.value.name&&d.value?.handleClose()};return a({}),(l,a)=>{const s=e,n=o;return z(),O(M(i.value),J({ref_key:"componentRef",ref:d,fullscreen:f.fullscreen,draggable:"",class:["co-dialog",{"auto-height":!t.autoHeight}]},l.$attrs,{width:c.value}),ee({header:j(()=>[l.$slots.header?E(l.$slots,"header",{key:0},void 0,!0):(z(),R("span",De,P(l.$attrs.title),1)),t.hideFull?S("",!0):(z(),R("button",{key:2,class:"el-dialog__headerbtn mr54px",onClick:y},[f.fullscreen?(z(),R("i",Le)):(z(),R("i",Pe))]))]),default:j(()=>["ElDrawer"===i.value.name?(z(),O(s,{key:0,class:"px25px <sm:px15px"},{default:j(()=>[E(l.$slots,"default",{},void 0,!0)]),_:3})):E(l.$slots,"default",{key:1},void 0,!0),L(r)?S("",!0):(z(),O(n,{key:2,class:"drawer-close-pc",circle:"",onClick:b},{default:j(()=>[...a[0]||(a[0]=[I("i",{class:"i-ep-arrow-right-bold text-20px"},null,-1)])]),_:1}))]),_:2},[t.noFooter?void 0:{name:"footer",fn:j(()=>[l.$slots.footer?E(l.$slots,"footer",{key:0},void 0,!0):(z(),R("div",Te,[T(n,{class:"min-w-160px <sm:flex-1",onClick:v},{default:j(()=>[re(P(l.$t("cancel")),1)]),_:1}),T(n,{type:"primary",class:"min-w-160px <sm:flex-1",loading:t.loading,onClick:p},{default:j(()=>[re(P(l.$t("submit")),1)]),_:1},8,["loading"])]))]),key:"0"}]),1040,["fullscreen","class","width"])}}}),Oe=Object.assign(me(je,[["__scopeId","data-v-b2c67b47"]]),{__name:"LaDialogDrawer"});export{Be as E,Oe as _,Ee as a};
