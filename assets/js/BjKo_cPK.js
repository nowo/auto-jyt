import{_ as e}from"./BhNkJ2ei.js";import{E as a}from"./Br2YYjqU.js";import{_ as l}from"./Bt4GWYqb.js";import{u as s,a as t,E as d,c as i}from"./B2NKXgsO.js";import{E as o}from"./CdvHYUIO.js";import{a as r,b as u}from"./DeCiPARL.js";import{b as m,h as p,E as n}from"#entry";import"./D3PoWbaM.js";import{l as c,b as f,r as b,a6 as _,V as x,u as V,X as h,A as v,Z as y,ao as g,H as j,I as U,a0 as k,a1 as w}from"./qvIHbRqB.js";import{_ as F}from"./BCo6x5W8.js";const q={class:"mb15px flex items-center justify-between"},C={class:"text-18px font-bold"},E={class:"py20px"},R=c({__name:"PixelForm",emits:["update"],setup(c,{expose:F,emit:R}){const{t:$}=m();p();const L=f(),z=b({statusList:["bind","unbind"],idList:[1,2,3,4,5,6,7,8,9,10]}),A=f(),D=b({data:{list:[{id:1,name:[],email:"",status:"unbind",pixel_id:""}],test:""}}),I=b({name:[{required:!0,type:"array",message:$("required"),trigger:"blur"}],email:[{required:!0,whitespace:!0,message:$("required"),trigger:"blur"}]}),P=()=>{const e={id:Date.now(),name:[],status:"unbind",email:"",pixel_id:""};D.data.list.push(e)},[H]=s(async()=>{console.log("formRef.value :>> ",A.value);if(await i(A.value))return n.success("return")});return F({setFormData:(e,a)=>{L.value=e,"edit"===e&&a||(D.data.list.length=0,P())},onConfirm:H,onReset:()=>{A.value?.resetFields()},formRef:A}),(s,i)=>{const m=e,p=a,n=l,c=d,f=o,b=u,F=r,R=t;return x(),_(R,{ref_key:"formRef",ref:A,"label-position":"top",model:V(D).data,rules:V(I),class:"form-auth"},{default:h(()=>[(x(!0),v(j,null,g(V(D).data.list,(e,a)=>(x(),v("div",{key:e.id,class:"card-item relative"},[y("div",q,[y("div",C,w(V($)("filter")),1),U(p,{type:"danger",link:"",disabled:V(D).data.list.length<=1,onClick:e=>(e=>{1!==D.data.list.length&&D.data.list.splice(e,1)})(a)},{default:h(()=>[U(m,{name:"delete",class:"text-16px mr5px"}),y("p",null,w(V($)("remove")),1)]),_:1},8,["disabled","onClick"])]),U(c,{label:V($)("account_id"),prop:`list.${a}.name`,rules:V(I).name},{default:h(()=>[U(n,{modelValue:e.name,"onUpdate:modelValue":a=>e.name=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","prop","rules"]),U(c,{label:V($)("pixel_name"),prop:`list.${a}.email`,rules:V(I).email},{default:h(()=>[U(f,{modelValue:e.email,"onUpdate:modelValue":a=>e.email=a,placeholder:V($)("pixel_name_placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop","rules"]),U(c,{label:V($)("pixel_id"),prop:`list.${a}.pixel_id`},{default:h(()=>[U(f,{modelValue:e.pixel_id,"onUpdate:modelValue":a=>e.pixel_id=a,placeholder:V($)("pixel_id_placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"]),U(c,{label:V($)("status"),prop:`list.${a}.status`},{default:h(()=>[U(F,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,placeholder:V($)("status"),clearable:"",filterable:""},{default:h(()=>[(x(!0),v(j,null,g(V(z).statusList,e=>(x(),_(b,{key:e,label:V($)(e),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]))),128)),y("div",E,[U(p,{type:"primary",plain:"",size:"large",class:"btn-add w100% b-dashed!",onClick:P},{default:h(()=>[i[0]||(i[0]=y("i",{class:"i-material-symbols:add-2-rounded text-16px mr5px"},null,-1)),k(" "+w(V($)("add")),1)]),_:1})])]),_:1},8,["model","rules"])}}}),$=Object.assign(F(R,[["__scopeId","data-v-b8dd0d4f"]]),{__name:"PixelForm"});export{$ as _};
