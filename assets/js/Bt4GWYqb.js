import{E as e}from"./DeCiPARL.js";import{b as a,i as s,p as t,an as o,F as l}from"#entry";import{E as i}from"./CdvHYUIO.js";import{_ as n}from"./dsrEqqer.js";import{_ as r}from"./CWcflZNr.js";import{E as d}from"./BmNVMyPn.js";import"./D3PoWbaM.js";import{l as c,r as u,b as p,at as m,Y as f,u as b,A as v,V as g,I as _,X as h,Z as y,d as w,H as j,ao as x,a6 as V,a0 as k,a1 as C,$ as I}from"./qvIHbRqB.js";import{C as O}from"./BzC0bYcU.js";import{_ as R}from"./BCo6x5W8.js";const S={class:"la-select-table"},H={class:"la-select-content"},T=c({__name:"LaSelectTable",props:{modelValue:{default:[]},modelModifiers:{}},emits:["update:modelValue"],setup(c){const{t:R}=a(),T=u({isOpen:!1,search:""}),z=u({data:[{id:1,name:"北京北京北京北京北京北京北京北京北京北京北京北京北京北京",status:"success"},{id:2,name:"深圳",status:"success"},{id:20,name:"深圳深圳深圳深圳深圳深圳圳深圳深圳深圳深圳深圳深圳深圳深圳",status:"success"},{id:21,name:"深圳001",status:"success"},{id:22,name:"深圳深圳深圳深圳深圳深圳深圳",status:"success"}],tableHeader:[{property:"",label:"",type:"selection",width:"45",other:{isHide:!0}},{property:"name",label:R("account_name"),minWidth:"180"},{property:"id",label:R("account_id"),width:"180",sortable:!0},{property:"status",label:R("status"),align:"center",width:"100"}],pagination:s(t),isTool:!1}),E=p(),L=m(c,"modelValue"),U=e=>{const a=z.data.find(a=>a.id===e);return a?.name},W=e=>{T.isOpen=e},A=o(e=>{console.log("v :>> ",e)},1500),D=e=>{L.value=e.map(e=>e.id)},F=()=>{T.isOpen=!1},M=e=>{console.log("row :>> ",e);const a=z.data.find(a=>a.id===e.id);E.value.tableRef.toggleRowSelection(a);const s=L.value.findIndex(a=>a===e.id);console.log("modelValue.value :>> ",L.value),console.log("index :>> ",s)};return(a,s)=>{const t=e,o=l,c=i,u=n,p=r,m=d;return f((g(),v("div",S,[_(m,{placement:"bottom",visible:b(T).isOpen,"show-arrow":!1,teleported:!1,trigger:"click",onHide:s[3]||(s[3]=e=>W(!1))},{reference:h(()=>[y("div",{class:I(["el-select-box",{"is-active":b(T).isOpen}]),onClick:s[0]||(s[0]=e=>W(!0))},[(g(!0),v(j,null,x(L.value,e=>(g(),V(t,{key:e,closable:"",type:"primary",effect:"dark",onClose:a=>(e=>{const a=L.value.findIndex(a=>a===e);if(console.log("index :>> ",a),a>-1){L.value.splice(a,1);const s=z.data.find(a=>a.id===e);E.value.tableRef.toggleRowSelection(s,!1)}})(e)},{default:h(()=>[k(C(U(e)),1)]),_:2},1032,["onClose"]))),128))],2)]),default:h(()=>[y("div",H,[_(c,{modelValue:b(T).search,"onUpdate:modelValue":s[1]||(s[1]=e=>b(T).search=e),class:"la-search-input",size:"large",onInput:b(A)},{prefix:h(()=>[_(o,{class:"i-ep-search"})]),_:1},8,["modelValue","onInput"]),_(p,{ref_key:"tableRef",ref:E,option:b(z),"onUpdate:option":s[2]||(s[2]=e=>w(z)?z.value=e:null),"row-key":"id","auto-height":"",size:"large",onRowClick:M,onSelectionChange:D},{status:h(({row:e})=>[_(u,{"data-id":e.id,num:5,text:b(R)("active")},null,8,["data-id","text"])]),_:1},8,["option"])])]),_:1},8,["visible"])])),[[b(O),F]])}}}),z=Object.assign(R(T,[["__scopeId","data-v-606d8ff0"]]),{__name:"LaSelectTable"});export{z as _};
