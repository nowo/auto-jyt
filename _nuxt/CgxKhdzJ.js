import{_ as e}from"./DG-sOGPn.js";import{E as a}from"./0z3QpR9y.js";import{_ as l}from"./BwQPCbE8.js";import{u as s,a as t,E as d,c as i}from"./CUFx-rjb.js";import{E as o}from"./SQlRK6VB.js";import{a as r,b as m}from"./B4DcUaLU.js";import{e as u,m as p,F as n,r as c,n as f,i as b,o as _,j as x,w as V,c as h,a as v,P as g,Q as y,b as j,d as U,t as k,E as w}from"#entry";import"./CU7A5Bla.js";import{_ as C}from"./BCo6x5W8.js";const F={class:"mb15px flex items-center justify-between"},q={class:"text-18px font-bold"},E={class:"py20px"},R=u({__name:"PixelForm",emits:["update"],setup(u,{expose:C,emit:R}){const{t:$}=p();n();const L=c(),P=f({statusList:["bind","unbind"],idList:[1,2,3,4,5,6,7,8,9,10]}),D=c(),Q=f({data:{list:[{id:1,name:[],email:"",status:"unbind",pixel_id:""}],test:""}}),z=f({name:[{required:!0,type:"array",message:$("required"),trigger:"blur"}],email:[{required:!0,whitespace:!0,message:$("required"),trigger:"blur"}]}),I=()=>{const e={id:Date.now(),name:[],status:"unbind",email:"",pixel_id:""};Q.data.list.push(e)},[O]=s(async()=>{console.log("formRef.value :>> ",D.value);if(await i(D.value))return w.success("return")});return C({setFormData:(e,a)=>{L.value=e,"edit"===e&&a||(Q.data.list.length=0,I())},onConfirm:O,onReset:()=>{D.value?.resetFields()},formRef:D}),(s,i)=>{const u=e,p=a,n=l,c=d,f=o,w=m,C=r,R=t;return _(),b(R,{ref_key:"formRef",ref:D,"label-position":"top",model:x(Q).data,rules:x(z),class:"form-auth"},{default:V(()=>[(_(!0),h(y,null,g(x(Q).data.list,(e,a)=>(_(),h("div",{key:e.id,class:"card-item relative"},[v("div",F,[v("div",q,k(x($)("filter")),1),j(p,{type:"danger",link:"",disabled:x(Q).data.list.length<=1,onClick:e=>(e=>{1!==Q.data.list.length&&Q.data.list.splice(e,1)})(a)},{default:V(()=>[j(u,{name:"delete",class:"text-16px mr5px"}),v("p",null,k(x($)("remove")),1)]),_:1},8,["disabled","onClick"])]),j(c,{label:x($)("account_id"),prop:`list.${a}.name`,rules:x(z).name},{default:V(()=>[j(n,{modelValue:e.name,"onUpdate:modelValue":a=>e.name=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","prop","rules"]),j(c,{label:x($)("pixel_name"),prop:`list.${a}.email`,rules:x(z).email},{default:V(()=>[j(f,{modelValue:e.email,"onUpdate:modelValue":a=>e.email=a,placeholder:x($)("pixel_name_placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop","rules"]),j(c,{label:x($)("pixel_id"),prop:`list.${a}.pixel_id`},{default:V(()=>[j(f,{modelValue:e.pixel_id,"onUpdate:modelValue":a=>e.pixel_id=a,placeholder:x($)("pixel_id_placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"]),j(c,{label:x($)("status"),prop:`list.${a}.status`},{default:V(()=>[j(C,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,placeholder:x($)("status"),clearable:"",filterable:""},{default:V(()=>[(_(!0),h(y,null,g(x(P).statusList,e=>(_(),b(w,{key:e,label:x($)(e),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop"])]))),128)),v("div",E,[j(p,{type:"primary",plain:"",size:"large",class:"btn-add w100% b-dashed!",onClick:I},{default:V(()=>[i[0]||(i[0]=v("i",{class:"i-material-symbols:add-2-rounded text-16px mr5px"},null,-1)),U(" "+k(x($)("add")),1)]),_:1})])]),_:1},8,["model","rules"])}}}),$=Object.assign(C(R,[["__scopeId","data-v-b8dd0d4f"]]),{__name:"PixelForm"});export{$ as _};
