import{V as e,cO as t,aw as a,W as o,X as n,Y as l,bh as s,at as i,a$ as r,L as u,cz as d,be as p,a7 as c,r as f,a8 as v,j as m,aa as h,av as y,a9 as b,Z as g,e as x,aN as w,ba as C,a3 as S,cP as z,cQ as k,cR as E,ay as I,bR as F,f as P,aK as B,c as $,o as N,J as R,Q as M,a as V,s as _,ad as T,i as j,w as A,ak as L,ae as O,aM as H,y as W,az as K,t as U,ac as J,bz as Q,bJ as Y,aq as Z}from"#entry";import{U as q,u as D,h as X,d as G,I as ee,C as te}from"./DG-sOGPn.js";import{c as ae,u as oe,a as ne,b as le}from"./0z3QpR9y.js";let se;const ie={height:"0",visibility:"hidden",overflow:t()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},re=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"];function ue(t,a=1,o){var n,l;se||(se=document.createElement("textarea"),(null!=(n=t.parentNode)?n:document.body).appendChild(se));const{paddingSize:s,borderSize:i,boxSizing:r,contextStyle:u}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),n=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:re.map(e=>[e,t.getPropertyValue(e)]),paddingSize:o,borderSize:n,boxSizing:a}}(t);u.forEach(([e,t])=>null==se?void 0:se.style.setProperty(e,t)),Object.entries(ie).forEach(([e,t])=>null==se?void 0:se.style.setProperty(e,t,"important")),se.value=t.value||t.placeholder||"";let d=se.scrollHeight;const p={};"border-box"===r?d+=i:"content-box"===r&&(d-=s),se.value="";const c=se.scrollHeight-s;if(e(a)){let e=c*a;"border-box"===r&&(e=e+s+i),d=Math.max(e,d),p.minHeight=`${e}px`}if(e(o)){let e=c*o;"border-box"===r&&(e=e+s+i),d=Math.min(e,d)}return p.height=`${d}px`,null==(l=se.parentNode)||l.removeChild(se),se=void 0,p}const de=o({id:{type:String,default:void 0},size:r,disabled:Boolean,modelValue:{type:n([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:n([Boolean,Object]),default:!1},autocomplete:{type:n(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:s,default:i},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:s},prefixIcon:{type:s},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:n([Object,Array,String]),default:()=>l({})},autofocus:Boolean,rows:{type:Number,default:2},...D(["ariaLabel"]),inputmode:{type:n(String),default:void 0},name:String}),pe={[q]:e=>a(e),input:e=>a(e),change:e=>a(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},ce=["class","style"],fe=/^on[A-Z]/,ve=(e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,o=u(()=>((null==a?void 0:a.value)||[]).concat(ce)),n=p();return u(n?()=>{var e;return d(Object.entries(null==(e=n.proxy)?void 0:e.$attrs).filter(([e])=>!(o.value.includes(e)||t&&fe.test(e))))}:()=>({}))};function me(e,{disabled:t,beforeFocus:a,afterFocus:o,beforeBlur:n,afterBlur:l}={}){const s=p(),{emit:i}=s,r=c(),u=f(!1),d=e=>{const n=!!y(a)&&a(e);m(t)||u.value||n||(u.value=!0,i("focus",e),null==o||o())},b=e=>{var a;const o=!!y(n)&&n(e);m(t)||e.relatedTarget&&(null==(a=r.value)?void 0:a.contains(e.relatedTarget))||o||(u.value=!1,i("blur",e),null==l||l())};return v([r,()=>m(t)],([e,t])=>{e&&(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}),h(r,"focus",d,!0),h(r,"blur",b,!0),h(r,"click",a=>{var o,n;m(t)||X(a.target)||(null==(o=r.value)?void 0:o.contains(document.activeElement))&&r.value!==document.activeElement||null==(n=e.value)||n.focus()},!0),{isFocused:u,wrapperRef:r,handleFocus:d,handleBlur:b}}function he({afterComposition:e,emit:t}){const a=f(!1),o=e=>{var o;null==t||t("compositionupdate",e);const n=null==(o=e.target)?void 0:o.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},n=o=>{null==t||t("compositionend",o),a.value&&(a.value=!1,b(()=>e(o)))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?n(e):o(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:o,handleCompositionEnd:n}}const ye=x({name:"ElInput",inheritAttrs:!1});const be=Z(g(x({...ye,props:de,emits:pe,setup(e,{expose:t,emit:a}){const o=e,n=w(),l=ve(),s=C(),i=u(()=>["textarea"===o.type?Z.b():x.b(),x.m(y.value),x.is("disabled",g.value),x.is("exceed",Be.value),{[x.b("group")]:s.prepend||s.append,[x.m("prefix")]:s.prefix||o.prefixIcon,[x.m("suffix")]:s.suffix||o.suffixIcon||o.clearable||o.showPassword,[x.bm("suffix","password-clear")]:Ee.value&&Ie.value,[x.b("hidden")]:"hidden"===o.type},n.class]),r=u(()=>[x.e("wrapper"),x.is("focus",fe.value)]),{form:d,formItem:p}=ne(),{inputId:h}=le(o,{formItemContext:p}),y=ae(),g=oe(),x=S("input"),Z=S("textarea"),D=c(),X=c(),se=f(!1),ie=f(!1),re=f(),de=c(o.inputStyle),pe=u(()=>D.value||X.value),{wrapperRef:ce,isFocused:fe,handleFocus:ye,handleBlur:be}=me(pe,{disabled:g,afterBlur(){var e;o.validateEvent&&(null==(e=null==p?void 0:p.validate)||e.call(p,"blur").catch(e=>G()))}}),ge=u(()=>{var e;return null!=(e=null==d?void 0:d.statusIcon)&&e}),xe=u(()=>(null==p?void 0:p.validateState)||""),we=u(()=>xe.value&&z[xe.value]),Ce=u(()=>ie.value?k:E),Se=u(()=>[n.style]),ze=u(()=>[o.inputStyle,de.value,{resize:o.resize}]),ke=u(()=>I(o.modelValue)?"":String(o.modelValue)),Ee=u(()=>o.clearable&&!g.value&&!o.readonly&&!!ke.value&&(fe.value||se.value)),Ie=u(()=>o.showPassword&&!g.value&&!!ke.value),Fe=u(()=>o.showWordLimit&&!!o.maxlength&&("text"===o.type||"textarea"===o.type)&&!g.value&&!o.readonly&&!o.showPassword),Pe=u(()=>ke.value.length),Be=u(()=>!!Fe.value&&Pe.value>Number(o.maxlength)),$e=u(()=>!!s.suffix||!!o.suffixIcon||Ee.value||o.showPassword||Fe.value||!!xe.value&&ge.value),[Ne,Re]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:o,value:n}=e.value;if(null==a||null==o)return;const l=n.slice(0,Math.max(0,a)),s=n.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:n,beforeTxt:l,afterTxt:s}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:n,selectionStart:l}=t;if(null==o||null==n||null==l)return;let s=a.length;if(a.endsWith(n))s=a.length-n.length;else if(a.startsWith(o))s=o.length;else{const e=o[l-1],t=a.indexOf(e,l-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(D);F(X,e=>{if(Ve(),!Fe.value||"both"!==o.resize)return;const t=e[0],{width:a}=t.contentRect;re.value={right:`calc(100% - ${a+15+6}px)`}});const Me=()=>{const{type:e,autosize:t}=o;if(Q&&"textarea"===e&&X.value)if(t){const e=Y(t)?t.minRows:void 0,a=Y(t)?t.maxRows:void 0,o=ue(X.value,e,a);de.value={overflowY:"hidden",...o},b(()=>{X.value.offsetHeight,de.value=o})}else de.value={minHeight:ue(X.value).minHeight}},Ve=(e=>{let t=!1;return()=>{var a;if(t||!o.autosize)return;null===(null==(a=X.value)?void 0:a.offsetParent)||(setTimeout(e),t=!0)}})(Me),_e=()=>{const e=pe.value,t=o.formatter?o.formatter(ke.value):ke.value;e&&e.value!==t&&(e.value=t)},Te=async e=>{Ne();let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),Ae.value||(t!==ke.value?(a(q,t),a(ee,t),await b(),_e(),Re()):_e())},je=e=>{let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),a(te,t)},{isComposing:Ae,handleCompositionStart:Le,handleCompositionUpdate:Oe,handleCompositionEnd:He}=he({emit:a,afterComposition:Te}),We=()=>{Ne(),ie.value=!ie.value,setTimeout(Re)},Ke=e=>{se.value=!1,a("mouseleave",e)},Ue=e=>{se.value=!0,a("mouseenter",e)},Je=e=>{a("keydown",e)},Qe=()=>{a(q,""),a(te,""),a("clear"),a(ee,"")};return v(()=>o.modelValue,()=>{var e;b(()=>Me()),o.validateEvent&&(null==(e=null==p?void 0:p.validate)||e.call(p,"change").catch(e=>G()))}),v(ke,()=>_e()),v(()=>o.type,async()=>{await b(),_e(),Me()}),P(()=>{!o.formatter&&o.parser,_e(),b(Me)}),t({input:D,textarea:X,ref:pe,textareaStyle:ze,autosize:B(o,"autosize"),isComposing:Ae,focus:()=>{var e;return null==(e=pe.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=pe.value)?void 0:e.blur()},select:()=>{var e;null==(e=pe.value)||e.select()},clear:Qe,resizeTextarea:Me}),(e,t)=>(N(),$("div",{class:_([m(i),{[m(x).bm("group","append")]:e.$slots.append,[m(x).bm("group","prepend")]:e.$slots.prepend}]),style:J(m(Se)),onMouseenter:Ue,onMouseleave:Ke},[R(" input "),"textarea"!==e.type?(N(),$(M,{key:0},[R(" prepend slot "),e.$slots.prepend?(N(),$("div",{key:0,class:_(m(x).be("group","prepend"))},[T(e.$slots,"prepend")],2)):R("v-if",!0),V("div",{ref_key:"wrapperRef",ref:ce,class:_(m(r))},[R(" prefix slot "),e.$slots.prefix||e.prefixIcon?(N(),$("span",{key:0,class:_(m(x).e("prefix"))},[V("span",{class:_(m(x).e("prefix-inner"))},[T(e.$slots,"prefix"),e.prefixIcon?(N(),j(m(O),{key:0,class:_(m(x).e("icon"))},{default:A(()=>[(N(),j(L(e.prefixIcon)))]),_:1},8,["class"])):R("v-if",!0)],2)],2)):R("v-if",!0),V("input",H({id:m(h),ref_key:"input",ref:D,class:m(x).e("inner")},m(l),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?ie.value?"text":"password":e.type,disabled:m(g),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:m(Le),onCompositionupdate:m(Oe),onCompositionend:m(He),onInput:Te,onChange:je,onKeydown:Je}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),R(" suffix slot "),m($e)?(N(),$("span",{key:1,class:_(m(x).e("suffix"))},[V("span",{class:_(m(x).e("suffix-inner"))},[m(Ee)&&m(Ie)&&m(Fe)?R("v-if",!0):(N(),$(M,{key:0},[T(e.$slots,"suffix"),e.suffixIcon?(N(),j(m(O),{key:0,class:_(m(x).e("icon"))},{default:A(()=>[(N(),j(L(e.suffixIcon)))]),_:1},8,["class"])):R("v-if",!0)],64)),m(Ee)?(N(),j(m(O),{key:1,class:_([m(x).e("icon"),m(x).e("clear")]),onMousedown:W(m(K),["prevent"]),onClick:Qe},{default:A(()=>[(N(),j(L(e.clearIcon)))]),_:1},8,["class","onMousedown"])):R("v-if",!0),m(Ie)?(N(),j(m(O),{key:2,class:_([m(x).e("icon"),m(x).e("password")]),onClick:We},{default:A(()=>[(N(),j(L(m(Ce))))]),_:1},8,["class"])):R("v-if",!0),m(Fe)?(N(),$("span",{key:3,class:_(m(x).e("count"))},[V("span",{class:_(m(x).e("count-inner"))},U(m(Pe))+" / "+U(e.maxlength),3)],2)):R("v-if",!0),m(xe)&&m(we)&&m(ge)?(N(),j(m(O),{key:4,class:_([m(x).e("icon"),m(x).e("validateIcon"),m(x).is("loading","validating"===m(xe))])},{default:A(()=>[(N(),j(L(m(we))))]),_:1},8,["class"])):R("v-if",!0)],2)],2)):R("v-if",!0)],2),R(" append slot "),e.$slots.append?(N(),$("div",{key:1,class:_(m(x).be("group","append"))},[T(e.$slots,"append")],2)):R("v-if",!0)],64)):(N(),$(M,{key:1},[R(" textarea "),V("textarea",H({id:m(h),ref_key:"textarea",ref:X,class:[m(Z).e("inner"),m(x).is("focus",m(fe))]},m(l),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:m(g),readonly:e.readonly,autocomplete:e.autocomplete,style:m(ze),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:m(Le),onCompositionupdate:m(Oe),onCompositionend:m(He),onInput:Te,onFocus:m(ye),onBlur:m(be),onChange:je,onKeydown:Je}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),m(Fe)?(N(),$("span",{key:0,style:J(re.value),class:_(m(x).e("count"))},U(m(Pe))+" / "+U(e.maxlength),7)):R("v-if",!0)],64))],38))}}),[["__file","input.vue"]]));export{be as E,me as a,he as b,ve as u};
